<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Prototype JavaScript Library Examples</title>
<script src="../prototype-1.6.0.3.js"></script>
<script>
	// do something when the DOM has loaded
	document.observe("dom:loaded", function() {
		alert('DOM has loaded');
		
		// getElementById
		$('myHeader').style.backgroundColor = 'red';
		
		// CSS selector engine
		var myArrayOfResults = $$('h2.myClass');
		
		for(var i=0; i<myArrayOfResults.length; i++) {
			alert('CSS Selector found the following elements:\n' + myArrayOfResults[i]);
			
			// change the background colour
			myArrayOfResults[i].style.backgroundColor = 'green';
		}
		
		// Get an 'actual' Array from "array-like" objects
		var paras = $A(document.getElementsByTagName('p'));
		
		// And 'hide' each paragraph in the page
		paras.each(Element.hide);
		
		// The 'invoke' method in Prototype will apply a named method to each element of a collection.
		// This is more efficient that using the .each() method (e.g. $$('blah blah').each(function(element) { element.addClassName('foo'); });)
		var storeElements = $$('code');
		$$('code').invoke('addClassName', 'test');
	});
</script>
<style>
	code
	{ color: #00F; font-family: Consolas, "Courier New", Courier, monospace; }
	
	code strong
	{ color: #990; }
	
	pre code
	{ font-size: 100%; }
	
	pre code.test
	{ color: #0F0; }
</style>
</head>
<body>

	<h1 id="myHeader">The 'Prototype' JavaScript Library</h1>
	<div>NOTE: DISABLE JAVASCRIPT TO SEE THE PARAGPAPHS OF TEXT!</div>
	<p>Here are some more useful Prototype elements</p>
	
	<h2>Document.Observe</h2>
	<p>One really useful event generated by Prototype that you might want to observe on the document is "<code>dom:loaded</code>".</p>
	<pre>
		<code>
			document.observe("dom:loaded", function() {
				// initially hide all containers for tab content
				$$('div.tabcontent').invoke('hide');
			});
		</code>
	</pre>	
	
	<h2>The <code>$()</code> function</h2>
	<p>The dollar function, <code>$()</code>, is basically Prototype's shorthand for getElementById.</p>
	
	<hr />
	
	<h2 class="myClass">The <code>$$()</code> function [returns an Array]</h2>
	<p class="myClass">The dollar dollar function is Prototype's CSS Selector Engine.</p>
	
	<hr />
	
	<h2 class="myClass">The <code>$F()</code> function</h2>
	<p>The <code>$F()</code> function returns the value of the requested form element.</p>
	
	<hr />
	
	<h2>The <code>$A()</code> function</h2>
	<p>The primary use of <code>$A()</code> is to obtain an actual <code>Array</code> object based on anything that could pass as an array (e.g. the <code>NodeList</code> or <code>HTMLCollection</code> objects returned by numerous DOM methods, or the predefined <code>arguments</code> reference within your functions).</p>
	<p>
		<code>
			var paras = $A(document.getElementsByTagName('p'));<br />
			paras.each(Element.hide);<br />
			$(paras.last()).show();
		</code>
	</p>
	<p>Notice we had to use <code>each</code> and <code>Element.hide</code> because <code>$A</code> doesn't perform DOM extensions, since the array could contain anything (not just DOM elements).</p>
	
	<hr />
	
	<h2>The <code>$H()</code> function</h2>
	<p>Creates a Hash (which is synonymous to “map” or “associative array” for our purposes): <code>$H(<em>[obj]</em>) -> Hash</code></p>
	
	<hr />
	
	<h2>Element.Event</h2>
	<p>Registers an event handler on a DOM element: <code>Event.observe(<em>element</em>, <em>eventName</em>, <em>handler</em>)</code></p>

</body>
</html>
