/*****************************************	Flashscript.biz: Timeline preloader******************************************/package biz.flashscript{	import flash.display.MovieClip;	import flash.events.*	import flash.text.TextField;	public class Root extends MovieClip	{		public static var _root:MovieClip;		private var t:TextField;		private var l:TextField;		private var tl:TextField;		private var lBar:LoaderBar;		public function Root ()		{			_root = this;			t = new TextField();			this.addChild(t);			l = new TextField();			this.addChild(l);			l.x = 150;			tl = new TextField();			this.addChild(tl);			tl.x = 300;			var lBar:LoaderBar = new LoaderBar (100, 100);			this.addChild(lBar);			var corFactor:int = lBar.width/100;			//			this.loaderInfo.addEventListener(Event.INIT, onRootLoaderInit);			this.loaderInfo.addEventListener(ProgressEvent.PROGRESS, onRootLoaderProgress);			this.loaderInfo.addEventListener(Event.COMPLETE, onRootLoaderComplete);			//			function onRootLoaderInit (event:Event):void			{				var lb:int = event.target.bytesLoaded;				var ltl:int = event.target.bytesTotal;				var ratio:int = lb/ltl*100;				t.text = "init: "+String(lb);				l.text = "TOTAL: "+String(ltl);				tl.text = "LOADED: "+String(ratio)+"%";				trace(event.target.bytesLoaded);					trace("Loading initiated");				lBar.width = 1*corFactor;							}			//			function onRootLoaderProgress (event:ProgressEvent):void			{				trace(event.bytesLoaded);				trace(event.bytesTotal);				var lb:int = event.bytesLoaded;				var ltl:int = event.bytesTotal;				var ratio:int = lb/ltl*100;				t.text = "PROGRESS: "+String(lb);				l.text = "TOTAL: "+String(ltl);				tl.text = "LOADED: "+String(ratio)+"%";				trace("Loading in progress");				lBar.width = ratio*corFactor;			}			//			function onRootLoaderComplete (event:Event):void			{				trace("Loaded: "+event.target.bytesLoaded);				trace("Total: "+event.target.bytesTotal);				var lb:int = event.target.bytesLoaded;				var ltl:int = event.target.bytesTotal;				var ratio:int = lb/ltl*100;				t.text = "COMPLETE: "+String(lb);				l.text = "TOTAL: "+String(ltl);				tl.text = "LOADED: "+String(ratio)+"%";				trace(event.target.bytesLoaded/event.target.bytesTotal);				trace("Loading completed");				lBar.width = ratio*corFactor;				if(ratio>=100)				{					_root.gotoAndStop("frame2");					_root.removeChild(lBar);					_root.removeChild(t);					_root.removeChild(l);					_root.removeChild(tl);				}			}		}	}}